사진에 존재하는 모든 객체의 종류, 위치, 크기 등을 표시하는 기술을 객체 검출이라고 한다. 객체 검출기가 주는 정보는 아래 그림과 같다. 객체의 위치 및 크기는 객체를 감싸는 사각형 형태의 박스(Bounding Box)로 표시된다. 객체를 감싸는 박스는 왼쪽 상단의 2차원 좌표와 오른쪽 하단의 2차원 좌표로 표시된다. 예를 들어 아래 그림에서 객체의 폭은 두 x좌표의 차이 (𝑥2 − 𝑥1), 객체의 높이는 두 y좌표의 차이 (𝑦2 −𝑦1)를 통해 계산할 수 있다. 객체의 종류(class)는 편의를 위해 객체의 종류별로 부여한 숫자로 표현한다. 예를 들어 자동차는 0, 비행기는 1이라는 숫자가 부 여된다면, 아래 그림에서 객체의 종류는 0으로 표시한다. 각 객체 검출 결과의 신뢰도는 0 이상, 1 이하의 실수로 표현된다. 아래 예시 그림에서 검출 결과의 신뢰도는 0.95 (95%)이다. 일반적으로 신뢰도가 너무 낮은 경우 그 결과는 신용할 수 없기 때문에 출력하지 않는다. (예: 신뢰도가 0.7 이상인 경우의 결과만 출력)
![image](https://github.com/thstnwl/Project/assets/134991210/805b72e7-2fe2-4396-98bb-b0e7c7ab9334)
객체 검출에는 한 가지 문제가 있다. 하나의 객체에 대해서 여러 개의 검출 결과가 존재할 수 있다. 아래 그림은 이에 대한 예시이다.
![image](https://github.com/thstnwl/Project/assets/134991210/00a746b9-eeb6-4cf1-acf2-d05828a3c239)
그림처럼 자동차는 하나임에도 불구하고 두 개의 객체 검출 결과를 얻었다. 이런 결과는 사용자 입장에서 활용하기가 불편하기 때문에, 최종 검출 결과는 객체마다 하나의 검출 결과만을 출력하도록 변환해 주어야 한다. 즉, 같은 객체를 나타내는 것으로 보이는 검출 결과들 중 신뢰도가 가장 높은 결과만을 남기고 나머지는 출력하지 않는다. 두 개의 객체 검출 박스가 주어졌을 때 이 박스가 같은 객체를 나타내고 있는지 확인하는 방법은 다음 그림과 같다.
![image](https://github.com/thstnwl/Project/assets/134991210/77391d56-48e6-4074-a743-f93955002da3)
위 그림의 예시처럼 두 개의 박스가 주어졌을 때, 두 개의 박스가 차지하고 있는 전체 영역의 넓이(A+B+C)와 두 박스가 겹치는 영역의 넓이(B)의 비율을 IoU(Intersection over Union)라고 한다. 이 비율이 높다는 것은 두 개의 박스가 서로 많이 겹쳐 있다는 것을 의미한다. 객체 검출에서는 IoU가 0.5 이상이면 두 박스가 같은 객체를 가리키고 있다고 가정한다. 따라서 이 경우에 두 검출 결과에 대한 신뢰도를 비교하고, 더 높은 결과만을 출력한다.
위 예시는 사진에 하나의 객체만 있다고 가정하고 있다. 실제 사진에는 여러 개의 객체가 존재하기 때문에 각 객체에 대한 검출 결과에 대해 이 과정을 반복해야 한다. 이를 위해 최종적으로 출력할 검출 결과를 선정하는 알고리즘은 다음과 같다.

1. 사진 한 장에 대해 주어진 모든 검출 결과를 신뢰도를 기준으로 정렬한다.
2. 신뢰도가 0.7 미만인 검출 결과는 최종 출력 결과에서 제외한다.
3. 신뢰도가 가장 높은 검출 박스에 대해 이 박스와의 IoU가 0.5 이상인 모든 박스를 최종출력 결과에서 제외한다.
4. 3번 과정을 거치면 신뢰도가 가장 높은 박스와 같은 객체를 가리키는 것으로 보이는 검출 결과는 존재하지 않는다.
5. 남아 있는 검출 결과 중 신뢰도가 가장 높은 검출 결과에 대해서 이 과정을 반복한다.
6. 모든 과정이 끝나면 최종 검출 결과를 출력한다.



